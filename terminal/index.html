<!DOCTYPE html>
<html>
	<meta charset='utf-8'>
	<head>
		<script>
			window.COMMANDS = {};
		</script>
		<title> Mercurial's Terminal </title>
		<link rel='stylesheet' href='../jslibs/jquery.terminal.css' />
		<script src='../jslibs/jquery.js'> </script>
		<script src='../jslibs/jquery.terminal.js'> </script>

		<script src='../jslibs/math.js'> </script>

		<!-- prism -->
		<link rel="stylesheet prefetch" href="./prism.css"/>
		<script src="./prism.js"></script>
		<script src='./prism_wrapper.js'></script>

		<!--exit command-->
		<script src='../bin/exit.js'> </script>
		<!-- speed command-->
		<script src='../bin/sptest/main.js'> </script>

		<!-- colyseus.js -->
		<script src='./colyseus.js'> </script>

		<!-- BTree -->
		<script src='../BTree.js'> </script>
		<!-- Sudoku Solver -->
		<script src='../sudoku.js'> </script>
		<!-- bin/DLRank -->
		<script src='../bin/dlrank.js'> </script>
		<!-- bin/currency -->
		<script src='../bin/currency.js'> </script>
		<!-- 24-game -->
		<script src='../bin/24_game.js'> </script>

		<!-- colyseus_client.js -->
		<script src='../mahjong/colyseus_client.js'> </script>

		<!-- msgpack.js -->
		<script src='../jslibs/msgpack.js'> </script>

		<!-- normaldist.js -->
		<script src='../bin/normaldist.js'> </script>
	</head>

	<body>
		<script>
			jQuery(function($, undefined){
				$('body').terminal(function(command){
					window.terminal = this;
					if(command !== '') {
						if(typeof(window.COMMANDS[command.replace(/\s/g,'')]) == 'function') {
							window.COMMANDS[command]();
						} else {
							try {
								var result = window.eval(command);
								if(result !== undefined) {
									this.echo(new String(result));
								}
							} catch(e) {
								this.error(new String(e));
							}
						}
					} else {
						this.echo('');
					}
				}, {
					greetings: "Welcome to Mercurial's JQuery Terminal",
					name: "Mercurial's Terminal",
					width: '100%',
					height: '100%',
					prompt: 'js> '
				});

				//Hightlight support.
				// There is a bug with ']'
				//$.terminal.syntax('javascript');
			});
		</script>

	</body>

</html>
